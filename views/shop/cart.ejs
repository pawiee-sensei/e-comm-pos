<%- include('../layouts/shop-layout', {
  title: 'Your Cart',
  body: `
  <section class="container py-5">

    <h4 class="mb-4">Your Cart</h4>

    ${
      items.length === 0
        ? `<p class="text-muted">Your cart is empty.</p>`
        : `
        <!-- CART ITEMS -->
        <div class="cart-list">

          ${items.map(item => `
            <div class="cart-item d-flex gap-3 align-items-center mb-3">

              <img
                src="/uploads/${item.image || 'no-image.png'}"
                width="80"
                alt="${item.name}"
              >

              <div class="flex-grow-1">
                <div class="fw-semibold">${item.name}</div>
                <div class="text-muted">₱${item.price}</div>

                <div class="d-flex align-items-center gap-2 mt-2">
                  <form method="POST" action="/cart/decrease/${item.id}">
                    <button class="btn btn-sm btn-outline-secondary">−</button>
                  </form>

                  <span>${item.qty}</span>

                  <form method="POST" action="/cart/increase/${item.id}">
                    <button class="btn btn-sm btn-outline-secondary">+</button>
                  </form>
                </div>
              </div>

              <div class="fw-semibold">
                ₱${item.total}
              </div>

              <form method="POST" action="/cart/remove/${item.id}">
                <button class="btn btn-sm btn-outline-danger">
                  Remove
                </button>
              </form>

            </div>
          `).join('')}

        </div>

        <hr>

        <div class="d-flex justify-content-between align-items-center">
          <h5>Total</h5>
          <h5>₱${total}</h5>
        </div>

        <div class="d-flex justify-content-between mt-4">
          <a href="/shop" class="btn btn-outline-dark">
            Continue Shopping
          </a>

          <a href="/shop/checkout" class="btn btn-dark">
            Proceed to Checkout
          </a>
        </div>
        `
    }

  </section>
  `
}) %>
