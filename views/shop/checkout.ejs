<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title><%= title || 'Checkout' %></title>

  <!-- Bootstrap -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    rel="stylesheet"
  >

  <!-- Shop Styles -->
  <link rel="stylesheet" href="/css/shop.css">
</head>
<body>

<!-- HEADER -->
<header class="shop-header border-bottom">
  <div class="container d-flex justify-content-between align-items-center py-3">
    <h4 class="mb-0">Coffee Shop</h4>

    <div class="shop-actions">
      <a href="/shop/cart" class="btn btn-outline-dark btn-sm">
        Cart
      </a>
      <a href="/login" class="btn btn-outline-dark btn-sm">
        Login
      </a>
    </div>
  </div>
</header>

<section class="container py-5">

  <h4 class="mb-4">Checkout</h4>

  <div class="row g-4">

    <!-- LEFT: CUSTOMER INFO -->
    <div class="col-md-7">
      <div class="card shadow-sm">
        <div class="card-body">
          <h6 class="fw-semibold mb-3">Customer Information</h6>

          <form>
            <div class="mb-3">
              <label class="form-label">Full Name</label>
              <input class="form-control" placeholder="John Doe">
            </div>

            <div class="mb-3">
              <label class="form-label">Phone</label>
              <input class="form-control" placeholder="+63 9xx xxx xxxx">
            </div>

            <div class="mb-3">
              <label class="form-label">Address</label>
              <textarea
                class="form-control"
                rows="3"
                placeholder="Delivery address"
              ></textarea>
            </div>

            <button class="btn btn-dark w-100" disabled>
              Place Order (Phase 4)
            </button>
          </form>
        </div>
      </div>
    </div>

    <!-- RIGHT: ORDER SUMMARY (UPDATED) -->
    <div class="col-md-5">
      <div class="card shadow-sm">
        <div class="card-body">
          <h6 class="fw-semibold mb-3">Order Summary</h6>

          <form method="POST" action="/shop/cart/update">
            <% cart.forEach(item => { %>
              <div class="d-flex justify-content-between align-items-center mb-3">

                <div>
                  <div class="fw-medium"><%= item.name %></div>
                  <small class="text-muted">
                    ₱<%= item.price %>
                  </small>
                </div>

                <div class="d-flex align-items-center gap-2">
                  <input
                    type="number"
                    name="qty[<%= item.id %>]"
                    value="<%= item.qty %>"
                    min="1"
                    class="form-control form-control-sm"
                    style="width:70px"
                  >
                  <span class="fw-semibold">
                    ₱<%= (item.price * item.qty).toFixed(2) %>
                  </span>
                </div>

              </div>
            <% }) %>

            <hr>

            <div class="d-flex justify-content-between fw-bold mb-3">
              <span>Total</span>
              <span>₱<%= total.toFixed(2) %></span>
            </div>

            <button class="btn btn-outline-dark w-100">
              Update Cart
            </button>
          </form>

        </div>
      </div>
    </div>

  </div>

</section>

</body>
</html>
